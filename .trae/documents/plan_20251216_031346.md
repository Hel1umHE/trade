# 实现发布商品功能及个人中心显示

## 1. 修改 publish.js 组件

### 1.1 添加数据绑定和表单处理
- 为商品名称、价格、描述等表单元素添加 v-model 双向绑定
- 添加图片处理功能，支持图片预览和 Base64 转换
- 添加表单提交事件处理

### 1.2 实现发布逻辑
- 表单验证：确保所有必填字段都已填写
- 生成唯一商品 ID（使用时间戳 + 随机数）
- 获取当前用户信息作为卖家信息
- 将商品数据转换为标准格式
- 将新商品保存到 localStorage

### 1.3 添加用户反馈和路由跳转
- 发布成功后显示成功提示框
- 发布失败时显示错误信息
- 发布成功后自动跳转到首页
- 点击取消按钮直接返回首页

## 2. 修改 home.js 组件

### 2.1 从 localStorage 读取商品数据
- 修改 data 选项，将 products 初始化为空数组
- 添加 mounted 钩子，从 localStorage 加载商品数据
- 确保页面刷新时能获取最新商品数据

### 2.2 初始化商品数据
- 检查 localStorage 中是否已有商品数据
- 若没有则初始化示例商品数据

## 3. 修改 my.js 组件

### 3.1 添加已发布商品显示
- 添加 data 选项，包含 myProducts 数组
- 添加 mounted 钩子，加载当前用户发布的商品
- 修改模板，使用 v-for 循环显示已发布商品
- 添加商品卡片样式，与首页保持一致
- 支持点击商品查看详情

### 3.2 添加条件渲染
- 当用户未发布商品时，显示提示信息和发布按钮
- 当用户已发布商品时，显示商品列表

## 4. 统一商品数据管理

### 4.1 商品数据结构
- 商品包含字段：id、title、description、price、image、sellerId、sellerName
- 使用 localStorage 存储商品数据，键名为 'products'

### 4.2 数据更新机制
- 发布商品时，将新商品添加到 localStorage
- 首页和个人中心从 localStorage 读取数据
- 确保数据一致性和实时性

## 技术实现细节

1. **图片处理**：使用 FileReader API 将选择的图片转换为 Base64 格式
2. **ID 生成**：使用时间戳 + 随机数生成唯一商品 ID
3. **数据存储**：使用 localStorage 持久化存储商品数据
4. **用户体验**：添加表单验证和操作反馈
5. **路由跳转**：使用 Vue Router 的 $router.push() 方法进行页面跳转
6. **条件渲染**：使用 v-if/v-else 实现不同状态的 UI 展示

通过以上实现，发布商品功能将完整可用，发布的商品会在首页显示，同时在个人中心会显示当前用户已发布的商品，点击取消按钮会直接返回首页。